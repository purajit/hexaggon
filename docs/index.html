<!doctype html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hexaggon</title>
  <link rel="stylesheet" href="index.css" />
  <link rel="icon" type="image/x-icon" href="favicon.svg" />
</head>
<body>
  <div id="hexaggon" class="frosted">
    <div class="toolbar flex-row gappy">
      <div class="flex-column gappy">
        <div id="layerPicker" class="flex-column overlaid">
          <button
            class="layer-picker-btn btn"
            title="Grid layer (0)"
            data-layer="GRID"
          >
            ⌗
          </button>
          <button
            class="layer-picker-btn btn"
            title="Color layer (1)"
            data-layer="COLOR"
          >
            🎨️
          </button>
          <button
            class="layer-picker-btn btn"
            title="Object layer (2)"
            data-layer="OBJECT"
          >
            🌳
          </button>
          <button
            class="layer-picker-btn btn"
            title="Path layer (3)"
            data-layer="PATH"
          >
            🗺️
          </button>
          <button
            class="layer-picker-btn btn"
            title="Boundary layer (4)"
            data-layer="BOUNDARY"
          >
            〰
          </button>
          <button
            class="layer-picker-btn btn"
            title="Text layer (5)"
            data-layer="TEXT"
          >
            📝
          </button>
        </div>
        <div id="toolPicker" class="flex-column overlaid">
          <button
            class="tool-picker-btn btn"
            title="Brush tool (B)"
            data-tool="BRUSH"
          >
            🖌
          </button>
          <button
            class="tool-picker-btn btn"
            title="Fill tool (G)"
            data-tool="FILL"
          >
            🪣
          </button>
          <button
            class="tool-picker-btn btn"
            title="Eraser tool (E)"
            data-tool="ERASER"
          >
            🧻
          </button>
          <button
            class="tool-picker-btn btn"
            title="Eyedropper tool (I; Alt/Opt for temporary)"
            data-tool="EYEDROPPER"
          >
            💧
          </button>
          <button
            class="tool-picker-btn btn"
            title="Select tool (M)"
            data-tool="SELECT"
          >
            ⊹
          </button>
          <button
            class="tool-picker-btn btn"
            title="Zoom tool (Z)"
            data-tool="ZOOM"
          >
            ️🔍
          </button>
        </div>
      </div>
      <div
        class="layer-control control-panel flex-column gappy overlaid"
        data-control="COLOR"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="45"
          height="45"
          viewBox="0 0 45 45"
        >
          <rect
            id="chosenSecondaryColor"
            x="0"
            y="0"
            width="30"
            height="30"
            stroke="grey"
          />
          <rect
            id="chosenPrimaryColor"
            x="15"
            y="15"
            width="30"
            height="30"
            stroke="grey"
          />
        </svg>
        <div id="colorControlPalette" class="flex-row gappy">
          <div class="flex-column gappy">
            <!-- https://www.drivethrurpg.com/en/product/500717/wuggy-s-hex-tiles -->
            <!-- blues -->
            <div
              class="swatch"
              style="background: #69394d"
              data-color="#69394d"
            ></div>
            <div
              class="swatch"
              style="background: #6a8588"
              data-color="#6a8588"
            ></div>
            <!-- greens -->
            <div
              class="swatch"
              style="background: #3d5a40"
              data-color="#3d5a40"
            ></div>
            <div
              class="swatch"
              style="background: #739d77"
              data-color="#739d77"
            ></div>
            <div
              class="swatch"
              style="background: #aab34c"
              data-color="#aab34c"
            ></div>
            <!-- browns oranges -->
            <div
              class="swatch"
              style="background: #943636"
              data-color="#943636"
            ></div>
            <div
              class="swatch"
              style="background: #b8895f"
              data-color="#b8895f"
            ></div>
            <div
              class="swatch"
              style="background: #908a07"
              data-color="#908a07"
            ></div>
            <div
              class="swatch"
              style="background: #574d39"
              data-color="#574d39"
            ></div>
            <div
              class="swatch"
              style="background: #000000"
              data-color="#000000"
            ></div>
          </div>
          <div class="flex-column gappy">
            <div
              class="swatch"
              style="background: #535272"
              data-color="#535272"
            ></div>
            <div
              class="swatch"
              style="background: #7eaaad"
              data-color="#7eaaad"
            ></div>
            <div
              class="swatch"
              style="background: #4a6b4e"
              data-color="#4a6b4e"
            ></div>
            <div
              class="swatch"
              style="background: #91b985"
              data-color="#91b985"
            ></div>
            <div
              class="swatch"
              style="background: #bfc080"
              data-color="#bfc080"
            ></div>
            <div
              class="swatch"
              style="background: #d35540"
              data-color="#d35540"
            ></div>
            <div
              class="swatch"
              style="background: #e8aa54"
              data-color="#e8aa54"
            ></div>
            <div
              class="swatch"
              style="background: #e4d250"
              data-color="#e4d250"
            ></div>
            <div
              class="swatch"
              style="background: #c4b9a5"
              data-color="#c4b9a5"
            ></div>
            <div
              class="swatch"
              style="background: #ffffff"
              data-color="#ffffff"
            ></div>
          </div>
        </div>
      </div>
      <div
        class="layer-control control-panel flex-column gappy overlaid"
        data-control="OBJECT"
      >
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🌲">🌲</div>
          <div class="object-btn btn border-box" data-text="🌳">🌳</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🌵">🌵</div>
          <div class="object-btn btn border-box" data-text="🏜">🏜</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🏔">🏔</div>
          <div class="object-btn btn border-box" data-text="🗻">🗻</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🌋">🌋</div>
          <div class="object-btn btn border-box" data-text="🌊">🌊</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🌽">🌽</div>
          <div class="object-btn btn border-box" data-text="🌾">🌾</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🏯">🏯</div>
          <div class="object-btn btn border-box" data-text="🏰">🏰</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🔥">🔥</div>
          <div class="object-btn btn border-box" data-text="☄️">☄️</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🏝">🏝</div>
          <div class="object-btn btn border-box" data-text="🗿">🗿</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🏠">🏠</div>
          <div class="object-btn btn border-box" data-text="🏚">🏚</div>
        </div>
        <div class="flex-row gappy">
          <div class="object-btn btn border-box" data-text="🛖">🛖</div>
          <div class="object-btn btn border-box" data-text="🪵">🪵</div>
        </div>
      </div>
      <div
        class="layer-control control-panel flex-column gappy overlaid"
        data-control="TEXT"
      >
        <div class="flex-row gappy">
          <input id="textFontSize" type="number" class="border-box" />
          <div id="textBold" class="btn border-box">B️</div>
          <div id="textItalics" class="btn border-box">I</div>
          <div id="textUnderline" class="btn border-box">U</div>
        </div>
        <input id="textInput" placeholder="Text to insert" />
      </div>
      <div
        class="layer-control control-panel flex-column gappy overlaid"
        data-control="GRID"
      >
        Orientation
        <div class="flex-row gappy">
          <button
            id="horizontalGridBtn"
            class="flip-90deg grid-direction-btn hexagon-btn btn border-box"
            title="Use a horizontal grid"
            data-direction="HORIZONTAL"
          >
            <svg
              width="30"
              height="30"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path class="grid-sample" d="M8 0L15 4V12L8 16L1 12V4L8 0Z" />
            </svg>
          </button>
          <button
            id="verticalGridBtn"
            class="grid-direction-btn hexagon-btn btn border-box"
            title="Use a vertical grid"
            data-direction="VERTICAL"
          >
            <svg
              width="30"
              height="30"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path class="grid-sample" d="M8 0L15 4V12L8 16L1 12V4L8 0Z" />
            </svg>
          </button>
        </div>
        Grid thickness
        <div class="flex-row gappy">
          <input
            id="gridThicknessSlider"
            type="range"
            min="0"
            max="20"
            step="1"
            onkeydown="event.preventDefault()"
          />
          <label class="visually-hidden" for="gridThicknessSlider"
            >Volume</label
          >
        </div>
        Dimensions
        <div class="flex-row gappy">
          <input id="gridRows" class="grid-dimension" type="text" />
          x
          <input id="gridCols" class="grid-dimension" type="text" />
        </div>
        <details>
          <summary>Canvas color</summary>
          <div id="canvasColor" class="flex-row gappy">
            <div class="flex-column gappy">
              <!-- https://www.drivethrurpg.com/en/product/500717/wuggy-s-hex-tiles -->
              <!-- blues -->
              <div
                class="swatch"
                style="background: #69394d"
                data-color="#69394d"
              ></div>
              <div
                class="swatch"
                style="background: #6a8588"
                data-color="#6a8588"
              ></div>
              <!-- greens -->
              <div
                class="swatch"
                style="background: #3d5a40"
                data-color="#3d5a40"
              ></div>
              <div
                class="swatch"
                style="background: #739d77"
                data-color="#739d77"
              ></div>
              <div
                class="swatch"
                style="background: #aab34c"
                data-color="#aab34c"
              ></div>
              <!-- browns oranges -->
              <div
                class="swatch"
                style="background: #943636"
                data-color="#943636"
              ></div>
              <div
                class="swatch"
                style="background: #b8895f"
                data-color="#b8895f"
              ></div>
              <div
                class="swatch"
                style="background: #908a07"
                data-color="#908a07"
              ></div>
              <div
                class="swatch"
                style="background: #574d39"
                data-color="#574d39"
              ></div>
              <div
                class="swatch"
                style="background: #000000"
                data-color="#000000"
              ></div>
            </div>
            <div class="flex-column gappy">
              <div
                class="swatch"
                style="background: #535272"
                data-color="#535272"
              ></div>
              <div
                class="swatch"
                style="background: #7eaaad"
                data-color="#7eaaad"
              ></div>
              <div
                class="swatch"
                style="background: #4a6b4e"
                data-color="#4a6b4e"
              ></div>
              <div
                class="swatch"
                style="background: #91b985"
                data-color="#91b985"
              ></div>
              <div
                class="swatch"
                style="background: #bfc080"
                data-color="#bfc080"
              ></div>
              <div
                class="swatch"
                style="background: #d35540"
                data-color="#d35540"
              ></div>
              <div
                class="swatch"
                style="background: #e8aa54"
                data-color="#e8aa54"
              ></div>
              <div
                class="swatch"
                style="background: #e4d250"
                data-color="#e4d250"
              ></div>
              <div
                class="swatch"
                style="background: #c4b9a5"
                data-color="#c4b9a5"
              ></div>
              <div
                class="swatch"
                style="background: #ffffff"
                data-color="#ffffff"
              ></div>
            </div>
          </div>
        </details>
        <details>
          <summary>Grid color</summary>
          <div id="gridColor" class="flex-row gappy">
            <div class="flex-column gappy">
              <!-- https://www.drivethrurpg.com/en/product/500717/wuggy-s-hex-tiles -->
              <!-- blues -->
              <div
                class="swatch"
                style="background: #69394d"
                data-color="#69394d"
              ></div>
              <div
                class="swatch"
                style="background: #6a8588"
                data-color="#6a8588"
              ></div>
              <!-- greens -->
              <div
                class="swatch"
                style="background: #3d5a40"
                data-color="#3d5a40"
              ></div>
              <div
                class="swatch"
                style="background: #739d77"
                data-color="#739d77"
              ></div>
              <div
                class="swatch"
                style="background: #aab34c"
                data-color="#aab34c"
              ></div>
              <!-- browns oranges -->
              <div
                class="swatch"
                style="background: #943636"
                data-color="#943636"
              ></div>
              <div
                class="swatch"
                style="background: #b8895f"
                data-color="#b8895f"
              ></div>
              <div
                class="swatch"
                style="background: #908a07"
                data-color="#908a07"
              ></div>
              <div
                class="swatch"
                style="background: #574d39"
                data-color="#574d39"
              ></div>
              <div
                class="swatch"
                style="background: #000000"
                data-color="#000000"
              ></div>
            </div>
            <div class="flex-column gappy">
              <div
                class="swatch"
                style="background: #535272"
                data-color="#535272"
              ></div>
              <div
                class="swatch"
                style="background: #7eaaad"
                data-color="#7eaaad"
              ></div>
              <div
                class="swatch"
                style="background: #4a6b4e"
                data-color="#4a6b4e"
              ></div>
              <div
                class="swatch"
                style="background: #91b985"
                data-color="#91b985"
              ></div>
              <div
                class="swatch"
                style="background: #bfc080"
                data-color="#bfc080"
              ></div>
              <div
                class="swatch"
                style="background: #d35540"
                data-color="#d35540"
              ></div>
              <div
                class="swatch"
                style="background: #e8aa54"
                data-color="#e8aa54"
              ></div>
              <div
                class="swatch"
                style="background: #e4d250"
                data-color="#e4d250"
              ></div>
              <div
                class="swatch"
                style="background: #c4b9a5"
                data-color="#c4b9a5"
              ></div>
              <div
                class="swatch"
                style="background: #ffffff"
                data-color="#ffffff"
              ></div>
            </div>
          </div>
        </details>
      </div>
      <div
        class="layer-control control-panel flex-column gappy overlaid"
        data-control="SETTINGS"
      >
        <!-- TODO: invert drag scrolling -->
        <!-- TODO: dark mode -->
      </div>
    </div>
    <svg id="hexmap">
      <!-- forces layering regardless of order in which elements are placed -->
      <g id="HEXLayer"></g>
      <g id="OBJECTLayer"></g>
      <g id="PATHLayer"></g>
      <g id="BOUNDARYLayer"></g>
      <g id="TEXTLayer"></g>
    </svg>
    <div class="toolbar flex-row bottom">
      <div class="flex-column overlaid">
        <button
          id="settingsBtn"
          class="layer-picker-btn btn"
          title="Settings"
          data-layer="SETTINGS"
        >
          ⚙️
        </button>
        <button id="saveBtn" class="btn" title="Save/export map to disk">
          💾
        </button>
        <button
          id="loadBtn"
          class="btn"
          title="Load/import map from disk"
        ></button>
        <label class="btn" for="fileUpload">📥</label>
        <input
          id="fileUpload"
          class="hidden"
          type="file"
          accept="image/svg+xml"
        />
        <button id="allFilesBtn" class="btn">🗄</button>
      </div>
      <div id="allFilesList" class="flex-column overlaid"></div>
    </div>
    <div class="toolbar right-aligned">
      <div class="overlaid control-panel">
        <svg id="minimap">
          <g id="minimapPreview"></g>
          <!-- by only updating the above group, this forces the viewbox to always be on top -->
          <g>
            <rect
              id="minimapViewBox"
              stroke="red"
              stroke-width="20px"
              fill="white"
              fill-opacity="0.4"
              width="0"
              height="0"
            ></rect>
          </g>
        </svg>
      </div>
    </div>
  </div>
  <div id="welcomeContainer">
    <div id="welcome" class="flex-column gappy">
      <div class="h1">Welcome to Hexaggon!</div>
      <div class="normaltext">
        Click anywhere to start a new drawing, or drop in an exported map.
      </div>
    </div>
  </div>
  <script src="index.js"></script>
</body>
